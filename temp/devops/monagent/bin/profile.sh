# This file should not contain any product specific variable names. Will be replaced during upgrade.
PATH=/bin:/usr/bin:/usr/local/bin:/sbin:/usr/sbin:/usr/local/sbin:$PATH
if [ -f "/etc/release" ]; then
	cat /etc/release | grep "Solaris 10" > /dev/null
	if [ $? = 0 ]; then
		PATH=/usr/xpg4/bin:/bin:/usr/bin:/usr/local/bin:/sbin:/usr/sbin:/usr/local/sbin:/usr/sfw/bin:$PATH
	fi
fi
FONT_RED=$(tput setaf 1)
FONT_GREEN=$(tput setaf 2)
FONT_RESET=$(tput sgr0)
FONT_RED_STR='$(tput setaf 1)'
FONT_GREEN_STR='$(tput setaf 2)'
FONT_RESET_STR='$(tput sgr0)'
SUCCESS=0
FAILURE=1
PRINT=2
GPRINT=3
RPRINT=4
ECHO_PRINT=5
ECHO_GPRINT=6
ECHO_RPRINT=7
EXECUTE=8
GENERATE_FILE=9
LOG_TO_FILE=10
THIRTY_TWO_BIT='32-bit'
SIXTY_FOUR_BIT='64-bit'
BOOL_TRUE='true'
BOOL_FALSE='false' 

# OS names
OS_SUN='SunOS'
OS_AIX='AIX'
OS_LINUX='Linux'

# OS Distributions
LINUX_REDHAT_DISTRIBUTION='RedHat'
LINUX_SUSE_DISTRIBUTION='Suse'
LINUX_MANDRAKE_DISTRIBUTION='Mandrake'
LINUX_FEDORA_DISTRIBUTION='Fedora'
LINUX_DEBIAN_DISTRIBUTION='Debian'
LINUX_AMAZON_LINUX_DISTRIBUTION='AmazonLinux'
LINUX_GENTOO_DISTRIBUTION='Gentoo'
LINUX_COREOS_DISTRIBUTION='CoreOS'

ETC_INIT_RC_ENTRY='ETC_INIT_RC_ENTRY'
ETC_RC_ENTRY='ETC_RC_ENTRY'
ETC_SYSTEMD_ENTRY='ETC_SYSTEMD_ENTRY'
MON_AGENT_FORCE_INSTALLATION=$BOOL_FALSE
MON_AGENT_FORCE_SYSLOG_INSTALLATION=$BOOL_TRUE

MON_AGENT_PROG_NAME=$PRODUCT_NAME'Agent'
MON_AGENT_WATCHDOG_PROG_NAME=$PRODUCT_NAME'AgentWatchdog'
MON_AGENT_BOOT_FILE_NAME=$PRODUCT_NAME_LOWERCASE'monagent'
MON_AGENT_BOOT_SERVICE_FILE_NAME='monagentservice'
MON_AGENT_START='start'
MON_AGENT_STOP='stop'
MON_AGENT_STATUS='status'
MON_AGENT_RESTART='restart'
 
#Agent logging variables for sysout syserr
#declare -i MON_AGENT_MAX_LOG_FILE_SIZE=2097152 #2Mb
MON_AGENT_MAX_LOG_FILE_COUNT=2

#Shutdown variables
MON_AGENT_SHUTDOWN_IP_ADDRESS='127.0.0.1'
MON_AGENT_SHUTDOWN_PORT='2244'
MON_AGENT_SHUTDOWN_URL="http://$MON_AGENT_SHUTDOWN_IP_ADDRESS:$MON_AGENT_SHUTDOWN_PORT"
MON_AGENT_INIT_FILE=/etc/init.d/$MON_AGENT_BOOT_FILE_NAME
variableUpdate(){
#Agent file names
MON_AGENT_PRODUCT_PROFILE_FILE_NAME='.product_profile'
MON_AGENT_AGENT_PROFILE_FILE_NAME='.agent_profile'
MON_AGENT_QUERY_CONF_FILE_NAME='queryconf.txt'
MON_AGENT_INSTALL_LOG_FILE_NAME="site24x7install.log"
MON_AGENT_CONF_FILE_NAME='monagent.cfg'
PROMETHEUS_CONF_FILE_NAME='prometheus.cfg'
MON_AGENT_LIVE_TERMINAL_CONF_FILE_NAME="live_terminal.cfg"
MON_AGENT_WATCHDOG_CONF_FILE_NAME='monagentwatchdog.cfg'
MON_AGENT_CUSTOM_MONITORS_FILE_NAME='custom_monitors.xml'
MONITOR_GROUP_JSON_FILE_NAME='monitorsgroup.json'
CUSTOM_MONITOR_GROUP_JSON_FILE_NAME='custom_monitorsgroup.json'
MON_AGENT_PROCESS_MONITOR_STATUS_FILE_NAME='processStatuslist.txt'
MON_AGENT_PROCESS_MONITOR_DETAILS_FILE_NAME='processDetailslist.txt'
MON_AGENT_UNINSTALL_FILE_NAME='uninstall'
MON_AGENT_UNINSTALL_FLAG_FILE_NAME='uninstall.txt'
MON_AGENT_PLUGINS_ID_FILE_NAME='pl_id_mapper'
MON_AGENT_PLUGINS_LIST_FILE_NAME='pl_list.json'
if [ "$1" == "nr" ]; then
	username=`id -u -n`
	USER_HOME=`getent passwd $username | cut -d: -f6`
	if [ "$MONAGENT_NONROOT_INSTALL_DIR" != "" ];then
		INSTALL_DIR=$MONAGENT_NONROOT_INSTALL_DIR
	else
		INSTALL_DIR=$USER_HOME
	fi
	PRODUCT_HOME=$INSTALL_DIR/$PRODUCT_NAME_LOWERCASE
	MON_AGENT_HOME=$PRODUCT_HOME/monagent
	BASH_PROFILE=$USER_HOME/.bash_profile
fi

# Agent directories
MON_AGENT_LOG_DIR=$MON_AGENT_HOME/logs
MON_AGENT_DETAILS_LOG_DIR=$MON_AGENT_LOG_DIR/details
MON_AGENT_BIN_DIR=$MON_AGENT_HOME/bin
MON_AGENT_CONF_DIR=$MON_AGENT_HOME/conf
MON_AGENT_QUERY_CONF_DIR=$MON_AGENT_HOME/queryconf
MON_AGENT_SCRIPTS_DIR=$MON_AGENT_HOME/scripts
MON_AGENT_PLUGINS_DIR=$MON_AGENT_HOME/plugins
MON_AGENT_APPS_DIR=$MON_AGENT_CONF_DIR/apps
MON_AGENT_CUSTOMSCRIPTS_DIR=$MON_AGENT_HOME/customscripts
MON_AGENT_LIB_DIR=$MON_AGENT_HOME/lib
MON_AGENT_TEMP_DIR=$MON_AGENT_HOME/temp
MON_AGENT_LOCK_DIR=$MON_AGENT_TEMP_DIR/monagentlock
MON_AGENT_CUSTOM_QUERY_CONF_DIR=''
if [ -d $MON_AGENT_QUERY_CONF_DIR ]; then
	MON_AGENT_CUSTOM_QUERY_CONF_DIR=$(find $MON_AGENT_QUERY_CONF_DIR -mindepth 1 -maxdepth 1 -type d)
fi
MON_AGENT_SCRIPTS_TEMP_DIR=$MON_AGENT_HOME/scripts_temp
MON_AGENT_CUSTOMSCRIPTS_TEMP_DIR=$MON_AGENT_HOME/customscripts_temp
MON_AGENT_PLUGINS_TEMP_DIR=$MON_AGENT_HOME/plugins_temp
# Agent boot, conf & log files
MON_AGENT_BIN_BOOT_SERVICE_FILE=$MON_AGENT_BIN_DIR/$MON_AGENT_BOOT_SERVICE_FILE_NAME
MON_AGENT_BIN_BOOT_FILE=$MON_AGENT_BIN_DIR/monagent
MON_AGENT_BIN_SYSLOG_FILE=$MON_AGENT_BIN_DIR/monagentsyslog
RSYSLOG_ETCDIR_CONF=/etc/rsyslog.d
SITE24X7_RSYSLOG_CONFFILE=$RSYSLOG_ETCDIR_CONF/07-site24x7.conf
MON_AGENT_INIT_FILE=/etc/init.d/$MON_AGENT_BOOT_FILE_NAME
MON_AGENT_CONF_FILE=$MON_AGENT_CONF_DIR/$MON_AGENT_CONF_FILE_NAME
MON_AGENT_PS_WORKER_FILE=$MON_AGENT_CONF_DIR/ps_worker.conf
MON_AGENT_LIVE_TERMINAL_CONF_FILE=$MON_AGENT_CONF_DIR/$MON_AGENT_LIVE_TERMINAL_CONF_FILE_NAME
MONITOR_GROUP_JSON_FILE=$MON_AGENT_CONF_DIR/$MONITOR_GROUP_JSON_FILE_NAME
CUSTOM_MONITOR_GROUP_JSON_FILE=$MON_AGENT_CONF_DIR/$CUSTOM_MONITOR_GROUP_JSON_FILE_NAME
MON_AGENT_PROCESS_MONITOR_STATUS_FILE=$MON_AGENT_QUERY_CONF_DIR/$MON_AGENT_PROCESS_MONITOR_STATUS_FILE_NAME
MON_AGENT_PROCESS_MONITOR_DETAILS_FILE=$MON_AGENT_QUERY_CONF_DIR/$MON_AGENT_PROCESS_MONITOR_DETAILS_FILE_NAME
MON_AGENT_PRODUCT_PROFILE=$MON_AGENT_HOME/$MON_AGENT_PRODUCT_PROFILE_FILE_NAME
MON_AGENT_AGENT_PROFILE=$MON_AGENT_HOME/$MON_AGENT_AGENT_PROFILE_FILE_NAME
MON_AGENT_CUSTOM_MONITORS_FILE=$MON_AGENT_CONF_DIR/$MON_AGENT_CUSTOM_MONITORS_FILE_NAME
MON_AGENT_BIN_PROFILE=$MON_AGENT_BIN_DIR/profile.sh
MON_AGENT_BIN_PROFILE_ENV=$MON_AGENT_BIN_DIR/profile.env.sh
MON_AGENT_PROFILE=$MON_AGENT_HOME/.profile
MON_AGENT_PROFILE_ENV=$MON_AGENT_HOME/.profile.env
MON_AGENT_INSTALL_LOG=$PRODUCT_HOME/$MON_AGENT_INSTALL_LOG_FILE_NAME
MON_AGENT_PID_FILE=$MON_AGENT_DETAILS_LOG_DIR/monagent_pid
MON_AGENT_ERR_FILE=$MON_AGENT_DETAILS_LOG_DIR/monagent_err
MON_AGENT_OUT_FILE=$MON_AGENT_DETAILS_LOG_DIR/monagent_out
MON_AGENT_UNINSTALL_FILE=$MON_AGENT_BIN_DIR/$MON_AGENT_UNINSTALL_FILE_NAME
MON_AGENT_UNINSTALL_FLAG_FILE=$MON_AGENT_TEMP_DIR/$MON_AGENT_UNINSTALL_FLAG_FILE_NAME
MON_AGENT_PLUGINS_ID_FILE=$MON_AGENT_CONF_DIR/$MON_AGENT_PLUGINS_ID_FILE_NAME
MON_AGENT_PLUGINS_LIST_FILE=$MON_AGENT_CONF_DIR/$MON_AGENT_PLUGINS_LIST_FILE_NAME
MON_AGENT_SETTINGS_FILE=$MON_AGENT_CONF_DIR/settings.cfg
PROMETHEUS_INPUT_CONFIG_FILE=$MON_AGENT_CONF_DIR/prometheus_input
STATSD_INPUT_CONFIG_FILE=$MON_AGENT_CONF_DIR/statsd_input
MYSQL_INPUT_CONFIG_FILE=$MON_AGENT_CONF_DIR/mysql_input
UPGRADE_DISABLE_FLAG_FILE=$MON_AGENT_TEMP_DIR/disable_upgrade.txt

#Applog files
MON_AGENT_APPLOG_CONFIG_DIR=$MON_AGENT_CONF_DIR/applog
MON_AGENT_APPLOG_STATE_FILE_DIR=$MON_AGENT_HOME/statefiles

#Agent syslog conf file
MON_AGENT_SYSLOG_CONF_FILE="/etc/rsyslog.conf"
MON_AGENT_SYSLOG_BOOT_FILE="/etc/init.d/rsyslog"
MON_AGENT_UDP_SERVER_IP="127.0.0.1"
MON_AGENT_UDP_PORT="8822"

MON_AGENT_SERVICE_UP_MESSAGE="$PRODUCT_NAME monitoring agent service is up"
MON_AGENT_SERVICE_DOWN_MESSAGE="$PRODUCT_NAME monitoring agent service is down"
MON_AGENT_SERVICE_STARTED_MESSAGE="$PRODUCT_NAME monitoring agent service started successfully"
MON_AGENT_SERVICE_STOPPED_MESSAGE="$PRODUCT_NAME monitoring agent service stopped successfully"
MON_AGENT_SERVICE_STOP_FAILED_MESSAGE="Failed to stop $PRODUCT_NAME monitoring agent service"
APPLOG_SERVICE_STOPPED_MESSAGE="$PRODUCT_NAME Applog service stopped successfully"
# Agent backup dir variables
MON_AGENT_BACKUP_NAME=$MON_AGENT_NAME'_backup'
MON_AGENT_BACKUP_HOME=$PRODUCT_HOME/$MON_AGENT_BACKUP_NAME
MON_AGENT_BACKUP_LOG_DIR=$MON_AGENT_BACKUP_HOME/logs
MON_AGENT_BACKUP_CONF_DIR=$MON_AGENT_BACKUP_HOME/conf
MON_AGENT_BACKUP_SCRIPTS_DIR=$MON_AGENT_BACKUP_HOME/scripts
MON_AGENT_BACKUP_CUSTOMSCRIPTS_DIR=$MON_AGENT_BACKUP_HOME/customscripts
MON_AGENT_BACKUP_QUERY_CONF_DIR=$MON_AGENT_BACKUP_HOME/queryconf
MON_AGENT_BACKUP_PROCESS_MONITOR_STATUS_FILE=$MON_AGENT_BACKUP_QUERY_CONF_DIR/$MON_AGENT_PROCESS_MONITOR_STATUS_FILE_NAME
MON_AGENT_BACKUP_PROCESS_MONITOR_DETAILS_FILE=$MON_AGENT_BACKUP_QUERY_CONF_DIR/$MON_AGENT_PROCESS_MONITOR_DETAILS_FILE_NAME
MON_AGENT_BACKUP_PRODUCT_PROFILE=$MON_AGENT_BACKUP_HOME/$MON_AGENT_PRODUCT_PROFILE_FILE_NAME
MON_AGENT_BACKUP_AGENT_PROFILE=$MON_AGENT_BACKUP_HOME/$MON_AGENT_AGENT_PROFILE_FILE_NAME
MON_AGENT_BACKUP_CONF_FILE=$MON_AGENT_BACKUP_CONF_DIR/$MON_AGENT_CONF_FILE_NAME
MONITOR_GROUP_JSON_BACKUP_FILE=$MON_AGENT_BACKUP_CONF_DIR/$MONITOR_GROUP_JSON_FILE_NAME
CUSTOM_MONITOR_GROUP_JSON_BACKUP_FILE=$MON_AGENT_BACKUP_CONF_DIR/$CUSTOM_MONITOR_GROUP_JSON_FILE_NAME
MON_AGENT_BACKUP_CUSTOM_MONITORS_FILE=$MON_AGENT_BACKUP_CONF_DIR/$MON_AGENT_CUSTOM_MONITORS_FILE_NAME
MON_AGENT_WATCHDOG_BACKUP_CONF_FILE=$MON_AGENT_BACKUP_CONF_DIR/$MON_AGENT_WATCHDOG_CONF_FILE_NAME

MON_AGENT_BACKUP_PLUGINS_DIR=$MON_AGENT_BACKUP_HOME/plugins
MON_AGENT_BACKUP_PLUGINS_ID_FILE=$MON_AGENT_BACKUP_PLUGINS_DIR/$MON_AGENT_PLUGINS_ID_FILE_NAME
MON_AGENT_BACKUP_PLUGINS_LIST_FILE=$MON_AGENT_BACKUP_PLUGINS_DIR/$MON_AGENT_PLUGINS_LIST_FILE_NAME


MON_AGENT_BACKUP_APP_LOG_DIR=$MON_AGENT_BACKUP_HOME/applog
MON_AGENT_BACKUP_APP_LOG_STATE_FILE_DIR=$MON_AGENT_BACKUP_APP_LOG_DIR/statefiles

MON_AGENT_BACKUP_APPS_DIR=$MON_AGENT_BACKUP_HOME/apps

MON_AGENT_INSTALL_TIME_FILE=$MON_AGENT_TEMP_DIR/install_time
MON_AGENT_BACKUP_INSTALL_TIME_FILE=$MON_AGENT_BACKUP_HOME/install_time

# Agent Watchdog variables
MON_AGENT_WATCHDOG_BIN_BOOT_FILE=$MON_AGENT_BIN_DIR/monagentwatchdog
MON_AGENT_WATCHDOG_CONF_FILE=$MON_AGENT_CONF_DIR/$MON_AGENT_WATCHDOG_CONF_FILE_NAME
MON_AGENT_WATCHDOG_PID_FILE=$MON_AGENT_DETAILS_LOG_DIR/monagent_watchdog_pid
MON_AGENT_WATCHDOG_ERR_FILE=$MON_AGENT_DETAILS_LOG_DIR/monagent_watchdog_err
MON_AGENT_WATCHDOG_OUT_FILE=$MON_AGENT_DETAILS_LOG_DIR/monagent_watchdog_out
MON_AGENT_WATCHDOG_LOCK_DIR=$MON_AGENT_TEMP_DIR/monwatchdoglock
MON_AGENT_WATCHDOG_SERVICE_UP_MESSAGE="$PRODUCT_NAME monitoring agent watchdog service is up"
MON_AGENT_WATCHDOG_SERVICE_DOWN_MESSAGE="$PRODUCT_NAME monitoring agent watchdog service is down"
MON_AGENT_WATCHDOG_SERVICE_STARTED_MESSAGE="$PRODUCT_NAME monitoring agent watchdog service started successfully"
MON_AGENT_WATCHDOG_SERVICE_STOPPED_MESSAGE="$PRODUCT_NAME monitoring agent watchdog service stopped successfully"
MON_AGENT_WATCHDOG_SERVICE_STOP_FAILED_MESSAGE="Failed to stop $PRODUCT_NAME monitoring agent watchdog service"

MON_AGENT_LOCK_ACQUIRED='LOCK ACQUIRED '
MON_AGENT_LOCK_RELEASED='LOCK RELEASED '
							
MON_AGENT_CONTACT_SUPPORT_MESSAGE="Please contact support with $MON_AGENT_INSTALL_LOG , $MON_AGENT_LOG_DIR  and $MON_AGENT_DETAILS_LOG_DIR folder."
MON_AGENT_WRONG_INSTALL_FILE_MESSAGE="Please follow appropriate($THIRTY_TWO_BIT/$SIXTY_FOUR_BIT) installation steps for this Operating System"
MON_AGENT_UNABLE_TO_DETECT_HARDWARE_PLATFORM_MESSAGE="Unable to detect hardware platform!!"
MON_AGENT_DOWNLOAD_APPROPRIATE_INSTALL_FILE="Please ensure that appropriate($THIRTY_TWO_BIT/$SIXTY_FOUR_BIT) installation steps are followed for installing $PRODUCT_NAME monitoring agent!!"

MON_AGENT_UNINSTALL_MESSAGE="Please uninstall $PRODUCT_NAME monitoring agent by executing $MON_AGENT_UNINSTALL_FILE"
MON_AGENT_SHUTDOWN_UPPERCASE_MESSAGE='SHUTDOWN_AGENT'
MON_AGENT_INSTALL_LOWERCASE_MESSAGE='install'
MON_AGENT_REINSTALL_LOWERCASE_MESSAGE='reinstall'
MON_AGENT_UNINSTALL_LOWERCASE_MESSAGE='uninstall'
MON_AGENT_INSTALLING_UPPERCASE_MESSAGE='INSTALLING'
MON_AGENT_REINSTALLING_UPPERCASE_MESSAGE='REINSTALLING'
MON_AGENT_UNINSTALLING_UPPERCASE_MESSAGE='UNINSTALLING'
MON_AGENT_INSTALLING_MESSAGE='Installing'
MON_AGENT_REINSTALLING_MESSAGE='Reinstalling'
MON_AGENT_UNINSTALLING_MESSAGE='Uninstalling'
MON_AGENT_INSTALLATION_LOWERCASE_MESSAGE='installation'
MON_AGENT_REINSTALLATION_LOWERCASE_MESSAGE='reinstallation'

# Agent backup commands
MON_AGENT_CREATE_BACKUP_DIR_COMMAND="mkdir -p $MON_AGENT_BACKUP_HOME"
MON_AGENT_CREATE_BACKUP_CONF_DIR_COMMAND="mkdir -p $MON_AGENT_BACKUP_CONF_DIR"
MON_AGENT_DELETE_BACKUP_QUERY_CONF_DIR_COMMAND="rm -rf $MON_AGENT_BACKUP_QUERY_CONF_DIR"
MON_AGENT_DELETE_BACKUP_SCRIPTS_DIR_COMMAND="rm -rf $MON_AGENT_BACKUP_SCRIPTS_DIR"
MON_AGENT_DELETE_BACKUP_CUSTOMSCRIPTS_DIR_COMMAND="rm -rf $MON_AGENT_BACKUP_CUSTOMSCRIPTS_DIR"
MON_AGENT_CREATE_BACKUP_LOG_DIR_COMMAND="mkdir -p $MON_AGENT_BACKUP_LOG_DIR"
MON_AGENT_CONF_FILE_BACKUP_COMMAND="cp -f $MON_AGENT_CONF_FILE $MON_AGENT_BACKUP_CONF_FILE"
MON_AGENT_INSTALL_TIME_FILE_BACKUP_COMMAND="cp -f $MON_AGENT_INSTALL_TIME_FILE $MON_AGENT_BACKUP_HOME"
MON_AGENT_WATCHDOG_CONF_FILE_BACKUP_COMMAND="cp -f $MON_AGENT_WATCHDOG_CONF_FILE $MON_AGENT_WATCHDOG_BACKUP_CONF_FILE"
MON_AGENT_PRODUCT_PROFILE_BACKUP_COMMAND="[ -e $MON_AGENT_PRODUCT_PROFILE ] && cp -f $MON_AGENT_PRODUCT_PROFILE $MON_AGENT_BACKUP_PRODUCT_PROFILE || echo \"Skipping file : $MON_AGENT_PRODUCT_PROFILE\""
MON_AGENT_AGENT_PROFILE_BACKUP_COMMAND="[ -e $MON_AGENT_AGENT_PROFILE ] && cp -f $MON_AGENT_AGENT_PROFILE $MON_AGENT_BACKUP_AGENT_PROFILE || echo \"Skipping file : $MON_AGENT_AGENT_PROFILE\""
MON_AGENT_CUSTOM_MONITORS_FILE_BACKUP_COMMAND="cp -f $MON_AGENT_CUSTOM_MONITORS_FILE $MON_AGENT_BACKUP_CUSTOM_MONITORS_FILE"
MON_AGENT_CUSTOM_QUERY_CONF_BACKUP_COMMAND="cp -rf $MON_AGENT_CUSTOM_QUERY_CONF_DIR $MON_AGENT_BACKUP_QUERY_CONF_DIR"
MON_AGENT_SCRIPTS_DIR_BACKUP_COMMAND="cp -rf $MON_AGENT_SCRIPTS_DIR $MON_AGENT_BACKUP_HOME"
MON_AGENT_CUSTOMSCRIPTS_DIR_BACKUP_COMMAND="cp -rf $MON_AGENT_CUSTOMSCRIPTS_DIR $MON_AGENT_BACKUP_HOME"
CUSTOM_MONITOR_GROUP_JSON_FILE_BACKUP_COMMAND="cp -rf $CUSTOM_MONITOR_GROUP_JSON_FILE $CUSTOM_MONITOR_GROUP_JSON_BACKUP_FILE"

MON_AGENT_PLUGINS_DIR_BACKUP_COMMAND="[ -e $MON_AGENT_PLUGINS_DIR ] && cp -rf $MON_AGENT_PLUGINS_DIR $MON_AGENT_BACKUP_HOME || echo \"Skipping file : $MON_AGENT_PLUGINS_DIR\""

MON_AGENT_APPS_DIR_BACKUP_COMMAND="cp -rf $MON_AGENT_APPS_DIR $MON_AGENT_BACKUP_HOME"

MON_AGENT_CREATE_APPLOG_DIR_BACKUP_COMMAND="mkdir -p $MON_AGENT_BACKUP_APP_LOG_DIR"
MON_AGENT_APPLOG_CONF_DIR_BACKUP_COMMAND="[ -e $MON_AGENT_APPLOG_CONFIG_DIR ] && cp -rf $MON_AGENT_APPLOG_CONFIG_DIR $MON_AGENT_BACKUP_HOME || echo \"Skipping file : $MON_AGENT_APPLOG_CONFIG_DIR\""
MON_AGENT_APPLOG_STATE_FILE_DIR_BACKUP_COMMAND="[ -e $MON_AGENT_APPLOG_STATE_FILE_DIR ] && cp -rf $MON_AGENT_APPLOG_STATE_FILE_DIR $MON_AGENT_BACKUP_APP_LOG_DIR || echo \"Skipping file : $MON_AGENT_APPLOG_STATE_FILE_DIR\""

# Agent restore configuration commands
MON_AGENT_CONF_FILE_RESTORE_COMMAND="cp -f $MON_AGENT_BACKUP_CONF_FILE $MON_AGENT_CONF_FILE"
MON_AGENT_SCRIPTS_TEMP_BACKUP_COMMAND="mv -f $MON_AGENT_SCRIPTS_DIR $MON_AGENT_SCRIPTS_TEMP_DIR"

MON_AGENT_CUSTOMSCRIPTS_TEMP_BACKUP_COMMAND="mv -f $MON_AGENT_CUSTOMSCRIPTS_DIR $MON_AGENT_CUSTOMSCRIPTS_TEMP_DIR"
MON_AGENT_SCRIPTS_DIR_RESTORE_COMMAND="cp -rf $MON_AGENT_BACKUP_SCRIPTS_DIR $MON_AGENT_HOME"
MON_AGENT_CUSTOMSCRIPTS_DIR_RESTORE_COMMAND="cp -rf $MON_AGENT_BACKUP_CUSTOMSCRIPTS_DIR $MON_AGENT_HOME"
MON_AGENT_SCRIPTS_TEMP_DIR_RESTORE_COMMAND="cp -rf $MON_AGENT_SCRIPTS_TEMP_DIR/* $MON_AGENT_SCRIPTS_DIR"
MON_AGENT_CUSTOMSCRIPTS_TEMP_DIR_RESTORE_COMMAND="cp -rf $MON_AGENT_CUSTOMSCRIPTS_TEMP_DIR/* $MON_AGENT_CUSTOMSCRIPTS_DIR"
MON_AGENT_SCRIPTS_TEMP_DIR_DELETE_COMMAND="rm -rf $MON_AGENT_SCRIPTS_TEMP_DIR"
MON_AGENT_CUSTOMSCRIPTS_TEMP_DIR_DELETE_COMMAND="rm -rf $MON_AGENT_CUSTOMSCRIPTS_TEMP_DIR"
MON_AGENT_CUSTOM_QUERY_CONF_RESTORE_COMMAND="cp -rf $MON_AGENT_BACKUP_QUERY_CONF_DIR $MON_AGENT_HOME"
MON_AGENT_WATCHDOG_CONF_FILE_RESTORE_COMMAND="cp -f $MON_AGENT_WATCHDOG_BACKUP_CONF_FILE $MON_AGENT_WATCHDOG_CONF_FILE"
MON_AGENT_PRODUCT_PROFILE_RESTORE_COMMAND="[ -e $MON_AGENT_BACKUP_PRODUCT_PROFILE ] && cp -f $MON_AGENT_BACKUP_PRODUCT_PROFILE $MON_AGENT_PRODUCT_PROFILE || echo \"Skipping file : $MON_AGENT_BACKUP_PRODUCT_PROFILE\""
MON_AGENT_AGENT_PROFILE_RESTORE_COMMAND="[ -e $MON_AGENT_BACKUP_AGENT_PROFILE ] && cp -f $MON_AGENT_BACKUP_AGENT_PROFILE $MON_AGENT_AGENT_PROFILE || echo \"Skipping file : $MON_AGENT_BACKUP_AGENT_PROFILE\""
MON_AGENT_CUSTOM_MONITORS_FILE_RESTORE_COMMAND="cp -f $MON_AGENT_BACKUP_CUSTOM_MONITORS_FILE $MON_AGENT_CUSTOM_MONITORS_FILE"
CUSTOM_MONITOR_GROUP_JSON_FILE_RESTORE_COMMAND="cp -f $CUSTOM_MONITOR_GROUP_JSON_BACKUP_FILE $CUSTOM_MONITOR_GROUP_JSON_FILE"

MON_AGENT_PLUGINS_DIR_RESTORE_COMMAND="[ -e $MON_AGENT_BACKUP_PLUGINS_DIR ] && cp -rf $MON_AGENT_BACKUP_PLUGINS_DIR $MON_AGENT_HOME || echo \"Skipping file : $MON_AGENT_BACKUP_PLUGINS_DIR\""

MON_AGENT_APPLOG_STATE_FILE_DIR_RESTORE_COMMAND="[ -e $MON_AGENT_BACKUP_APP_LOG_STATE_FILE_DIR ] && cp -rf $MON_AGENT_BACKUP_APP_LOG_STATE_FILE_DIR $MON_AGENT_APPLOG_STATE_FILE_DIR || echo \"Skipping file : $MON_AGENT_BACKUP_APP_LOG_STATE_FILE_DIR\""
MON_AGENT_APPLOG_CONF_DIR_RESTORE_COMMAND="[ -e $MON_AGENT_BACKUP_APP_LOG_DIR ] && ( cp -rf $MON_AGENT_BACKUP_APP_LOG_DIR $MON_AGENT_APPLOG_CONFIG_DIR  && rm -rf $MON_AGENT_APPLOG_CONFIG_DIR/statefiles ) || echo \"Skipping file : $MON_AGENT_BACKUP_APP_LOG_DIR\""

MON_AGENT_APPS_DIR_RESTORE_COMMAND="cp -rf $MON_AGENT_BACKUP_APPS_DIR $MON_AGENT_CONF_DIR"

MON_AGENT_INSTALL_TIME_FILE_RESTORE_COMMAND="mkdir $MON_AGENT_TEMP_DIR && cp -f $MON_AGENT_BACKUP_INSTALL_TIME_FILE $MON_AGENT_TEMP_DIR"

# Backup commands array
MON_AGENT_BACKUP_COMMANDS_ARR=(  "$MON_AGENT_CREATE_BACKUP_DIR_COMMAND"
								"$MON_AGENT_CREATE_BACKUP_CONF_DIR_COMMAND"
								"$MON_AGENT_DELETE_BACKUP_QUERY_CONF_DIR_COMMAND"
								"$MON_AGENT_DELETE_BACKUP_SCRIPTS_DIR_COMMAND"
								"$MON_AGENT_DELETE_BACKUP_CUSTOMSCRIPTS_DIR_COMMAND"
								"$MON_AGENT_CREATE_BACKUP_LOG_DIR_COMMAND"
								"$MON_AGENT_CONF_FILE_BACKUP_COMMAND"
								"$MON_AGENT_WATCHDOG_CONF_FILE_BACKUP_COMMAND"								
								"$MON_AGENT_PRODUCT_PROFILE_BACKUP_COMMAND"
								"$MON_AGENT_AGENT_PROFILE_BACKUP_COMMAND"
								"$MON_AGENT_CUSTOM_MONITORS_FILE_BACKUP_COMMAND"
								"$MON_AGENT_SCRIPTS_DIR_BACKUP_COMMAND"
								"$MON_AGENT_CUSTOMSCRIPTS_DIR_BACKUP_COMMAND"
								"$MON_AGENT_PLUGINS_DIR_BACKUP_COMMAND"
								"$CUSTOM_MONITOR_GROUP_JSON_FILE_BACKUP_COMMAND" 
								"$MON_AGENT_CREATE_APPLOG_DIR_BACKUP_COMMAND"
								"$MON_AGENT_APPLOG_CONF_DIR_BACKUP_COMMAND"
								"$MON_AGENT_APPLOG_STATE_FILE_DIR_BACKUP_COMMAND"
								"$MON_AGENT_APPS_DIR_BACKUP_COMMAND"
								"$MON_AGENT_INSTALL_TIME_FILE_BACKUP_COMMAND"							
								)
							
# Restore configuration commands array
MON_AGENT_RESTORE_COMMANDS_ARR=(  "$MON_AGENT_CONF_FILE_RESTORE_COMMAND"
								"$MON_AGENT_SCRIPTS_TEMP_BACKUP_COMMAND"
								"$MON_AGENT_CUSTOMSCRIPTS_TEMP_BACKUP_COMMAND"
								"$MON_AGENT_SCRIPTS_DIR_RESTORE_COMMAND"
								"$MON_AGENT_CUSTOMSCRIPTS_DIR_RESTORE_COMMAND"
								"$MON_AGENT_SCRIPTS_TEMP_DIR_RESTORE_COMMAND"
								"$MON_AGENT_CUSTOMSCRIPTS_TEMP_DIR_RESTORE_COMMAND"
								"$MON_AGENT_SCRIPTS_TEMP_DIR_DELETE_COMMAND"
								"$MON_AGENT_CUSTOMSCRIPTS_TEMP_DIR_DELETE_COMMAND"
								"$MON_AGENT_WATCHDOG_CONF_FILE_RESTORE_COMMAND"
								"$MON_AGENT_PRODUCT_PROFILE_RESTORE_COMMAND"
								"$MON_AGENT_AGENT_PROFILE_RESTORE_COMMAND"
								"$MON_AGENT_CUSTOM_MONITORS_FILE_RESTORE_COMMAND"
								"$CUSTOM_MONITOR_GROUP_JSON_FILE_RESTORE_COMMAND"
								"$MON_AGENT_PLUGINS_DIR_RESTORE_COMMAND" 
								"$MON_AGENT_APPLOG_CONF_DIR_RESTORE_COMMAND"
								"$MON_AGENT_APPLOG_STATE_FILE_DIR_RESTORE_COMMAND"
								"$MON_AGENT_APPS_DIR_RESTORE_COMMAND"
								"$MON_AGENT_INSTALL_TIME_FILE_RESTORE_COMMAND"
								)

}

